import{P as Me,f as Te,L as R,O as wt,H as Ve,I as et,h as E,F as tt,c8 as se,bn as le,c9 as mt,ca as yt,cb as Ae,cc as bt,cd as z,ce as $e,cf as X,cg as nt,ch as we,ci as Re,cj as St,ck as Ie,cl as Be,cm as te,cn as Et,co as Fe,bm as Tt,cp as At,cq as $t,cr as Ct,cs as Ot,ct as _t,b as L,c as F,e as ce,d as de,a as oe,cu as Pt,u as xt,g as Ce,cv as Mt,j as Rt,R as rt,k as Q,bf as It,N as ne,p as re,T as Bt,a1 as Ft,be as ot,Q as De,bq as Dt,cw as Lt}from"./index-Bp8Ru9nj.js";import{u as ae,b as Nt,p as zt,f as Ht,e as kt,z as Wt,a as Kt,V as Ut}from"./Follower-BLKhK3H2.js";import{j as at,t as Gt,m as Xt,g as Le,r as fe,e as jt,c as V}from"./Button-DF3Ei97P.js";import{o as k,b as N,g as me,X as qt,a as Yt}from"./Scrollbar-Bcd6cbpf.js";import{f as ve}from"./format-length-B-p6aW7q.js";import{u as Jt}from"./use-css-vars-class-DV7GkkKb.js";import{c as Zt,u as Qt}from"./use-compitable-BZNVtFY-.js";import{f as Vt}from"./is-browser-Ki2-8vi-.js";function en(e,t=[],n){const r={};return t.forEach(a=>{r[a]=e[a]}),Object.assign(r,n)}function Ne(e,t="default",n=void 0){const r=e[t];if(!r)return Me("getFirstSlotVNode",`slot[${t}] is empty`),null;const a=Vt(r(n));return a.length===1?a[0]:(Me("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}let he;function tn(){return he===void 0&&(he=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),he}const U="@@mmoContext",nn={mounted(e,{value:t}){e[U]={handler:void 0},typeof t=="function"&&(e[U].handler=t,k("mousemoveoutside",e,t))},updated(e,{value:t}){const n=e[U];typeof t=="function"?n.handler?n.handler!==t&&(N("mousemoveoutside",e,n.handler),n.handler=t,k("mousemoveoutside",e,t)):(e[U].handler=t,k("mousemoveoutside",e,t)):n.handler&&(N("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:t}=e[U];t&&N("mousemoveoutside",e,t),e[U].handler=void 0}},rn=nn,G="@@coContext",on={mounted(e,{value:t,modifiers:n}){e[G]={handler:void 0},typeof t=="function"&&(e[G].handler=t,k("clickoutside",e,t,{capture:n.capture}))},updated(e,{value:t,modifiers:n}){const r=e[G];typeof t=="function"?r.handler?r.handler!==t&&(N("clickoutside",e,r.handler,{capture:n.capture}),r.handler=t,k("clickoutside",e,t,{capture:n.capture})):(e[G].handler=t,k("clickoutside",e,t,{capture:n.capture})):r.handler&&(N("clickoutside",e,r.handler,{capture:n.capture}),r.handler=void 0)},unmounted(e,{modifiers:t}){const{handler:n}=e[G];n&&N("clickoutside",e,n,{capture:t.capture}),e[G].handler=void 0}},ze=on;function He(e){return typeof e=="string"?document.querySelector(e):e()}function it(e){return e instanceof HTMLElement}function st(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(it(n)&&(ut(n)||st(n)))return!0}return!1}function lt(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(it(n)&&(ut(n)||lt(n)))return!0}return!1}function ut(e){if(!an(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function an(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let Z=[];const sn=Te({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const t=Zt(),n=R(null),r=R(null);let a=!1,o=!1;const s=typeof document>"u"?null:document.activeElement;function i(){return Z[Z.length-1]===t}function l(d){var c;d.code==="Escape"&&i()&&((c=e.onEsc)===null||c===void 0||c.call(e,d))}wt(()=>{Ve(()=>e.active,d=>{d?(m(),k("keydown",document,l)):(N("keydown",document,l),a&&g())},{immediate:!0})}),et(()=>{N("keydown",document,l),a&&g()});function f(d){if(!o&&i()){const c=v();if(c===null||c.contains(me(d)))return;y("first")}}function v(){const d=n.value;if(d===null)return null;let c=d;for(;c=c.nextSibling,!(c===null||c instanceof Element&&c.tagName==="DIV"););return c}function m(){var d;if(!e.disabled){if(Z.push(t),e.autoFocus){const{initialFocusTo:c}=e;c===void 0?y("first"):(d=He(c))===null||d===void 0||d.focus({preventScroll:!0})}a=!0,document.addEventListener("focus",f,!0)}}function g(){var d;if(e.disabled||(document.removeEventListener("focus",f,!0),Z=Z.filter(S=>S!==t),i()))return;const{finalFocusTo:c}=e;c!==void 0?(d=He(c))===null||d===void 0||d.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&s instanceof HTMLElement&&(o=!0,s.focus({preventScroll:!0}),o=!1)}function y(d){if(i()&&e.active){const c=n.value,S=r.value;if(c!==null&&S!==null){const P=v();if(P==null||P===S){o=!0,c.focus({preventScroll:!0}),o=!1;return}o=!0;const x=d==="first"?st(P):lt(P);o=!1,x||(o=!0,c.focus({preventScroll:!0}),o=!1)}}}function b(d){if(o)return;const c=v();c!==null&&(d.relatedTarget!==null&&c.contains(d.relatedTarget)?y("last"):y("first"))}function h(d){o||(d.relatedTarget!==null&&d.relatedTarget===n.value?y("last"):y("first"))}return{focusableStartRef:n,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:b,handleEndFocus:h}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:t,focusableStyle:n}=this;return E(tt,null,[E("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:n,onFocus:this.handleStartFocus}),e(),E("div",{"aria-hidden":"true",style:n,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}});var ye=se(le,"WeakMap"),ln=mt(Object.keys,Object),un=Object.prototype,cn=un.hasOwnProperty;function dn(e){if(!yt(e))return ln(e);var t=[];for(var n in Object(e))cn.call(e,n)&&n!="constructor"&&t.push(n);return t}function Oe(e){return Ae(e)?bt(e):dn(e)}var fn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vn=/^\w*$/;function _e(e,t){if(z(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||at(e)?!0:vn.test(e)||!fn.test(e)||t!=null&&e in Object(t)}var hn="Expected a function";function Pe(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hn);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=e.apply(this,r);return n.cache=o.set(a,s)||o,s};return n.cache=new(Pe.Cache||$e),n}Pe.Cache=$e;var gn=500;function pn(e){var t=Pe(e,function(r){return n.size===gn&&n.clear(),r}),n=t.cache;return t}var wn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mn=/\\(\\)?/g,yn=pn(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wn,function(n,r,a,o){t.push(a?o.replace(mn,"$1"):r||n)}),t});function ct(e,t){return z(e)?e:_e(e,t)?[e]:yn(Gt(e))}var bn=1/0;function ue(e){if(typeof e=="string"||at(e))return e;var t=e+"";return t=="0"&&1/e==-bn?"-0":t}function dt(e,t){t=ct(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ue(t[n++])];return n&&n==r?e:void 0}function Sn(e,t,n){var r=e==null?void 0:dt(e,t);return r===void 0?n:r}function En(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Tn(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[a++]=s)}return o}function An(){return[]}var $n=Object.prototype,Cn=$n.propertyIsEnumerable,ke=Object.getOwnPropertySymbols,On=ke?function(e){return e==null?[]:(e=Object(e),Tn(ke(e),function(t){return Cn.call(e,t)}))}:An;const _n=On;function Pn(e,t,n){var r=t(e);return z(e)?r:En(r,n(e))}function We(e){return Pn(e,Oe,_n)}var be=se(le,"DataView"),Se=se(le,"Promise"),Ee=se(le,"Set"),Ke="[object Map]",xn="[object Object]",Ue="[object Promise]",Ge="[object Set]",Xe="[object WeakMap]",je="[object DataView]",Mn=X(be),Rn=X(we),In=X(Se),Bn=X(Ee),Fn=X(ye),H=nt;(be&&H(new be(new ArrayBuffer(1)))!=je||we&&H(new we)!=Ke||Se&&H(Se.resolve())!=Ue||Ee&&H(new Ee)!=Ge||ye&&H(new ye)!=Xe)&&(H=function(e){var t=nt(e),n=t==xn?e.constructor:void 0,r=n?X(n):"";if(r)switch(r){case Mn:return je;case Rn:return Ke;case In:return Ue;case Bn:return Ge;case Fn:return Xe}return t});const qe=H;var Dn="__lodash_hash_undefined__";function Ln(e){return this.__data__.set(e,Dn),this}function Nn(e){return this.__data__.has(e)}function ie(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new $e;++t<n;)this.add(e[t])}ie.prototype.add=ie.prototype.push=Ln;ie.prototype.has=Nn;function zn(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Hn(e,t){return e.has(t)}var kn=1,Wn=2;function ft(e,t,n,r,a,o){var s=n&kn,i=e.length,l=t.length;if(i!=l&&!(s&&l>i))return!1;var f=o.get(e),v=o.get(t);if(f&&v)return f==t&&v==e;var m=-1,g=!0,y=n&Wn?new ie:void 0;for(o.set(e,t),o.set(t,e);++m<i;){var b=e[m],h=t[m];if(r)var d=s?r(h,b,m,t,e,o):r(b,h,m,e,t,o);if(d!==void 0){if(d)continue;g=!1;break}if(y){if(!zn(t,function(c,S){if(!Hn(y,S)&&(b===c||a(b,c,n,r,o)))return y.push(S)})){g=!1;break}}else if(!(b===h||a(b,h,n,r,o))){g=!1;break}}return o.delete(e),o.delete(t),g}function Kn(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function Un(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Gn=1,Xn=2,jn="[object Boolean]",qn="[object Date]",Yn="[object Error]",Jn="[object Map]",Zn="[object Number]",Qn="[object RegExp]",Vn="[object Set]",er="[object String]",tr="[object Symbol]",nr="[object ArrayBuffer]",rr="[object DataView]",Ye=Re?Re.prototype:void 0,ge=Ye?Ye.valueOf:void 0;function or(e,t,n,r,a,o,s){switch(n){case rr:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nr:return!(e.byteLength!=t.byteLength||!o(new Ie(e),new Ie(t)));case jn:case qn:case Zn:return St(+e,+t);case Yn:return e.name==t.name&&e.message==t.message;case Qn:case er:return e==t+"";case Jn:var i=Kn;case Vn:var l=r&Gn;if(i||(i=Un),e.size!=t.size&&!l)return!1;var f=s.get(e);if(f)return f==t;r|=Xn,s.set(e,t);var v=ft(i(e),i(t),r,a,o,s);return s.delete(e),v;case tr:if(ge)return ge.call(e)==ge.call(t)}return!1}var ar=1,ir=Object.prototype,sr=ir.hasOwnProperty;function lr(e,t,n,r,a,o){var s=n&ar,i=We(e),l=i.length,f=We(t),v=f.length;if(l!=v&&!s)return!1;for(var m=l;m--;){var g=i[m];if(!(s?g in t:sr.call(t,g)))return!1}var y=o.get(e),b=o.get(t);if(y&&b)return y==t&&b==e;var h=!0;o.set(e,t),o.set(t,e);for(var d=s;++m<l;){g=i[m];var c=e[g],S=t[g];if(r)var P=s?r(S,c,g,t,e,o):r(c,S,g,e,t,o);if(!(P===void 0?c===S||a(c,S,n,r,o):P)){h=!1;break}d||(d=g=="constructor")}if(h&&!d){var x=e.constructor,M=t.constructor;x!=M&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof M=="function"&&M instanceof M)&&(h=!1)}return o.delete(e),o.delete(t),h}var ur=1,Je="[object Arguments]",Ze="[object Array]",ee="[object Object]",cr=Object.prototype,Qe=cr.hasOwnProperty;function dr(e,t,n,r,a,o){var s=z(e),i=z(t),l=s?Ze:qe(e),f=i?Ze:qe(t);l=l==Je?ee:l,f=f==Je?ee:f;var v=l==ee,m=f==ee,g=l==f;if(g&&Be(e)){if(!Be(t))return!1;s=!0,v=!1}if(g&&!v)return o||(o=new te),s||Et(e)?ft(e,t,n,r,a,o):or(e,t,l,n,r,a,o);if(!(n&ur)){var y=v&&Qe.call(e,"__wrapped__"),b=m&&Qe.call(t,"__wrapped__");if(y||b){var h=y?e.value():e,d=b?t.value():t;return o||(o=new te),a(h,d,n,r,o)}}return g?(o||(o=new te),lr(e,t,n,r,a,o)):!1}function xe(e,t,n,r,a){return e===t?!0:e==null||t==null||!Fe(e)&&!Fe(t)?e!==e&&t!==t:dr(e,t,n,r,xe,a)}var fr=1,vr=2;function hr(e,t,n,r){var a=n.length,o=a,s=!r;if(e==null)return!o;for(e=Object(e);a--;){var i=n[a];if(s&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<o;){i=n[a];var l=i[0],f=e[l],v=i[1];if(s&&i[2]){if(f===void 0&&!(l in e))return!1}else{var m=new te;if(r)var g=r(f,v,l,e,t,m);if(!(g===void 0?xe(v,f,fr|vr,r,m):g))return!1}}return!0}function vt(e){return e===e&&!Tt(e)}function gr(e){for(var t=Oe(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,vt(a)]}return t}function ht(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function pr(e){var t=gr(e);return t.length==1&&t[0][2]?ht(t[0][0],t[0][1]):function(n){return n===e||hr(n,e,t)}}function wr(e,t){return e!=null&&t in Object(e)}function mr(e,t,n){t=ct(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var s=ue(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&At(a)&&$t(s,a)&&(z(e)||Ct(e)))}function yr(e,t){return e!=null&&mr(e,t,wr)}var br=1,Sr=2;function Er(e,t){return _e(e)&&vt(t)?ht(ue(e),t):function(n){var r=Sn(n,e);return r===void 0&&r===t?yr(n,e):xe(t,r,br|Sr)}}function Tr(e){return function(t){return t==null?void 0:t[e]}}function Ar(e){return function(t){return dt(t,e)}}function $r(e){return _e(e)?Tr(ue(e)):Ar(e)}function Cr(e){return typeof e=="function"?e:e==null?Ot:typeof e=="object"?z(e)?Er(e[0],e[1]):pr(e):$r(e)}function Or(e,t){return e&&_t(e,t,Oe)}function _r(e,t){return function(n,r){if(n==null)return n;if(!Ae(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&r(s[o],o,s)!==!1;);return n}}var Pr=_r(Or);function xr(e,t){var n=-1,r=Ae(e)?Array(e.length):[];return Pr(e,function(a,o,s){r[++n]=t(a,o,s)}),r}function Mr(e,t){var n=z(e)?Xt:xr;return n(e,Cr(t))}const pe={top:"bottom",bottom:"top",left:"right",right:"left"},T="var(--n-arrow-height) * 1.414",Rr=L([F("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[L(">",[F("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),ce("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[ce("scrollable",[ce("show-header-or-footer","padding: var(--n-padding);")])]),de("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),de("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),oe("scrollable, show-header-or-footer",[de("content",`
 padding: var(--n-padding);
 `)])]),F("popover-shared",`
 transform-origin: inherit;
 `,[F("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[F("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${T});
 height: calc(${T});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),L("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),L("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),L("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),L("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),_("top-start",`
 top: calc(${T} / -2);
 left: calc(${B("top-start")} - var(--v-offset-left));
 `),_("top",`
 top: calc(${T} / -2);
 transform: translateX(calc(${T} / -2)) rotate(45deg);
 left: 50%;
 `),_("top-end",`
 top: calc(${T} / -2);
 right: calc(${B("top-end")} + var(--v-offset-left));
 `),_("bottom-start",`
 bottom: calc(${T} / -2);
 left: calc(${B("bottom-start")} - var(--v-offset-left));
 `),_("bottom",`
 bottom: calc(${T} / -2);
 transform: translateX(calc(${T} / -2)) rotate(45deg);
 left: 50%;
 `),_("bottom-end",`
 bottom: calc(${T} / -2);
 right: calc(${B("bottom-end")} + var(--v-offset-left));
 `),_("left-start",`
 left: calc(${T} / -2);
 top: calc(${B("left-start")} - var(--v-offset-top));
 `),_("left",`
 left: calc(${T} / -2);
 transform: translateY(calc(${T} / -2)) rotate(45deg);
 top: 50%;
 `),_("left-end",`
 left: calc(${T} / -2);
 bottom: calc(${B("left-end")} + var(--v-offset-top));
 `),_("right-start",`
 right: calc(${T} / -2);
 top: calc(${B("right-start")} - var(--v-offset-top));
 `),_("right",`
 right: calc(${T} / -2);
 transform: translateY(calc(${T} / -2)) rotate(45deg);
 top: 50%;
 `),_("right-end",`
 right: calc(${T} / -2);
 bottom: calc(${B("right-end")} + var(--v-offset-top));
 `),...Mr({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,t)=>{const n=["right","left"].includes(t),r=n?"width":"height";return e.map(a=>{const o=a.split("-")[1]==="end",i=`calc((${`var(--v-target-${r}, 0px)`} - ${T}) / 2)`,l=B(a);return L(`[v-placement="${a}"] >`,[F("popover-shared",[oe("center-arrow",[F("popover-arrow",`${t}: calc(max(${i}, ${l}) ${o?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})})]);function B(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function _(e,t){const n=e.split("-")[0],r=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return L(`[v-placement="${e}"] >`,[F("popover-shared",`
 margin-${pe[n]}: var(--n-space);
 `,[oe("show-arrow",`
 margin-${pe[n]}: var(--n-space-arrow);
 `),oe("overlap",`
 margin: 0;
 `),Pt("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${n}: 100%;
 ${pe[n]}: auto;
 ${r}
 `,[F("popover-arrow",t)])])])}const gt=Object.assign(Object.assign({},Ce.props),{to:ae.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Ir=({arrowClass:e,arrowStyle:t,arrowWrapperClass:n,arrowWrapperStyle:r,clsPrefix:a})=>E("div",{key:"__popover-arrow__",style:r,class:[`${a}-popover-arrow-wrapper`,n]},E("div",{class:[`${a}-popover-arrow`,e],style:t})),Br=Te({name:"PopoverBody",inheritAttrs:!1,props:gt,setup(e,{slots:t,attrs:n}){const{namespaceRef:r,mergedClsPrefixRef:a,inlineThemeDisabled:o}=xt(e),s=Ce("Popover","-popover",Rr,Mt,e,a),i=R(null),l=Rt("NPopover"),f=R(null),v=R(e.show),m=R(!1);rt(()=>{const{show:p}=e;p&&!tn()&&!e.internalDeactivateImmediately&&(m.value=!0)});const g=Q(()=>{const{trigger:p,onClickoutside:$}=e,C=[],{positionManuallyRef:{value:w}}=l;return w||(p==="click"&&!$&&C.push([ze,x,void 0,{capture:!0}]),p==="hover"&&C.push([rn,P])),$&&C.push([ze,x,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&m.value)&&C.push([It,e.show]),C}),y=Q(()=>{const p=e.width==="trigger"?void 0:ve(e.width),$=[];p&&$.push({width:p});const{maxWidth:C,minWidth:w}=e;return C&&$.push({maxWidth:ve(C)}),w&&$.push({maxWidth:ve(w)}),o||$.push(b.value),$}),b=Q(()=>{const{common:{cubicBezierEaseInOut:p,cubicBezierEaseIn:$,cubicBezierEaseOut:C},self:{space:w,spaceArrow:q,padding:Y,fontSize:D,textColor:J,dividerColor:u,color:A,boxShadow:O,borderRadius:W,arrowHeight:K,arrowOffset:I,arrowOffsetVertical:pt}}=s.value;return{"--n-box-shadow":O,"--n-bezier":p,"--n-bezier-ease-in":$,"--n-bezier-ease-out":C,"--n-font-size":D,"--n-text-color":J,"--n-color":A,"--n-divider-color":u,"--n-border-radius":W,"--n-arrow-height":K,"--n-arrow-offset":I,"--n-arrow-offset-vertical":pt,"--n-padding":Y,"--n-space":w,"--n-space-arrow":q}}),h=o?Jt("popover",void 0,b,e):void 0;l.setBodyInstance({syncPosition:d}),et(()=>{l.setBodyInstance(null)}),Ve(ne(e,"show"),p=>{e.animated||(p?v.value=!0:v.value=!1)});function d(){var p;(p=i.value)===null||p===void 0||p.syncPosition()}function c(p){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(p)}function S(p){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(p)}function P(p){e.trigger==="hover"&&!M().contains(me(p))&&l.handleMouseMoveOutside(p)}function x(p){(e.trigger==="click"&&!M().contains(me(p))||e.onClickoutside)&&l.handleClickOutside(p)}function M(){return l.getTriggerElement()}re(zt,f),re(Ht,null),re(kt,null);function j(){if(h==null||h.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&m.value))return null;let $;const C=l.internalRenderBodyRef.value,{value:w}=a;if(C)$=C([`${w}-popover-shared`,h==null?void 0:h.themeClass.value,e.overlap&&`${w}-popover-shared--overlap`,e.showArrow&&`${w}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${w}-popover-shared--center-arrow`],f,y.value,c,S);else{const{value:q}=l.extraClassRef,{internalTrapFocus:Y}=e,D=!Le(t.header)||!Le(t.footer),J=()=>{var u,A;const O=D?E(tt,null,fe(t.header,I=>I?E("div",{class:[`${w}-popover__header`,e.headerClass],style:e.headerStyle},I):null),fe(t.default,I=>I?E("div",{class:[`${w}-popover__content`,e.contentClass],style:e.contentStyle},t):null),fe(t.footer,I=>I?E("div",{class:[`${w}-popover__footer`,e.footerClass],style:e.footerStyle},I):null)):e.scrollable?(u=t.default)===null||u===void 0?void 0:u.call(t):E("div",{class:[`${w}-popover__content`,e.contentClass],style:e.contentStyle},t),W=e.scrollable?E(qt,{contentClass:D?void 0:`${w}-popover__content ${(A=e.contentClass)!==null&&A!==void 0?A:""}`,contentStyle:D?void 0:e.contentStyle},{default:()=>O}):O,K=e.showArrow?Ir({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:w}):null;return[W,K]};$=E("div",Ft({class:[`${w}-popover`,`${w}-popover-shared`,h==null?void 0:h.themeClass.value,q.map(u=>`${w}-${u}`),{[`${w}-popover--scrollable`]:e.scrollable,[`${w}-popover--show-header-or-footer`]:D,[`${w}-popover--raw`]:e.raw,[`${w}-popover-shared--overlap`]:e.overlap,[`${w}-popover-shared--show-arrow`]:e.showArrow,[`${w}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:f,style:y.value,onKeydown:l.handleKeydown,onMouseenter:c,onMouseleave:S},n),Y?E(sn,{active:e.show,autoFocus:!0},{default:J}):J())}return ot($,g.value)}return{displayed:m,namespace:r,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:i,adjustedTo:ae(e),followerEnabled:v,renderContentNode:j}},render(){return E(Nt,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===ae.tdkey},{default:()=>this.animated?E(Bt,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),Fr=Object.keys(gt),Dr={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function Lr(e,t,n){Dr[t].forEach(r=>{e.props?e.props=Object.assign({},e.props):e.props={};const a=e.props[r],o=n[r];a?e.props[r]=(...s)=>{a(...s),o(...s)}:e.props[r]=o})}const Nr={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:ae.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},zr=Object.assign(Object.assign(Object.assign({},Ce.props),Nr),{internalOnAfterLeave:Function,internalRenderBody:Function}),qr=Te({name:"Popover",inheritAttrs:!1,props:zr,__popover__:!0,setup(e){const t=jt(),n=R(null),r=Q(()=>e.show),a=R(e.defaultShow),o=Yt(r,a),s=De(()=>e.disabled?!1:o.value),i=()=>{if(e.disabled)return!0;const{getDisabled:u}=e;return!!(u!=null&&u())},l=()=>i()?!1:o.value,f=Qt(e,["arrow","showArrow"]),v=Q(()=>e.overlap?!1:f.value);let m=null;const g=R(null),y=R(null),b=De(()=>e.x!==void 0&&e.y!==void 0);function h(u){const{"onUpdate:show":A,onUpdateShow:O,onShow:W,onHide:K}=e;a.value=u,A&&V(A,u),O&&V(O,u),u&&W&&V(W,!0),u&&K&&V(K,!1)}function d(){m&&m.syncPosition()}function c(){const{value:u}=g;u&&(window.clearTimeout(u),g.value=null)}function S(){const{value:u}=y;u&&(window.clearTimeout(u),y.value=null)}function P(){const u=i();if(e.trigger==="focus"&&!u){if(l())return;h(!0)}}function x(){const u=i();if(e.trigger==="focus"&&!u){if(!l())return;h(!1)}}function M(){const u=i();if(e.trigger==="hover"&&!u){if(S(),g.value!==null||l())return;const A=()=>{h(!0),g.value=null},{delay:O}=e;O===0?A():g.value=window.setTimeout(A,O)}}function j(){const u=i();if(e.trigger==="hover"&&!u){if(c(),y.value!==null||!l())return;const A=()=>{h(!1),y.value=null},{duration:O}=e;O===0?A():y.value=window.setTimeout(A,O)}}function p(){j()}function $(u){var A;l()&&(e.trigger==="click"&&(c(),S(),h(!1)),(A=e.onClickoutside)===null||A===void 0||A.call(e,u))}function C(){if(e.trigger==="click"&&!i()){c(),S();const u=!l();h(u)}}function w(u){e.internalTrapFocus&&u.key==="Escape"&&(c(),S(),h(!1))}function q(u){a.value=u}function Y(){var u;return(u=n.value)===null||u===void 0?void 0:u.targetRef}function D(u){m=u}return re("NPopover",{getTriggerElement:Y,handleKeydown:w,handleMouseEnter:M,handleMouseLeave:j,handleClickOutside:$,handleMouseMoveOutside:p,setBodyInstance:D,positionManuallyRef:b,isMountedRef:t,zIndexRef:ne(e,"zIndex"),extraClassRef:ne(e,"internalExtraClass"),internalRenderBodyRef:ne(e,"internalRenderBody")}),rt(()=>{o.value&&i()&&h(!1)}),{binderInstRef:n,positionManually:b,mergedShowConsideringDisabledProp:s,uncontrolledShow:a,mergedShowArrow:v,getMergedShow:l,setShow:q,handleClick:C,handleMouseEnter:M,handleMouseLeave:j,handleFocus:P,handleBlur:x,syncPosition:d}},render(){var e;const{positionManually:t,$slots:n}=this;let r,a=!1;if(!t&&(n.activator?r=Ne(n,"activator"):r=Ne(n,"trigger"),r)){r=Dt(r),r=r.type===Lt?E("span",[r]):r;const o={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=r.type)===null||e===void 0)&&e.__popover__)a=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[o,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[o];else{const{internalInheritedEventHandlers:s}=this,i=[o,...s],l={onBlur:f=>{i.forEach(v=>{v.onBlur(f)})},onFocus:f=>{i.forEach(v=>{v.onFocus(f)})},onClick:f=>{i.forEach(v=>{v.onClick(f)})},onMouseenter:f=>{i.forEach(v=>{v.onMouseenter(f)})},onMouseleave:f=>{i.forEach(v=>{v.onMouseleave(f)})}};Lr(r,s?"nested":t?"manual":this.trigger,l)}}return E(Ut,{ref:"binderInstRef",syncTarget:!a,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const o=this.getMergedShow();return[this.internalTrapFocus&&o?ot(E("div",{style:{position:"fixed",inset:0}}),[[Wt,{enabled:o,zIndex:this.zIndex}]]):null,t?null:E(Kt,null,{default:()=>r}),E(Br,en(this.$props,Fr,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:o})),{default:()=>{var s,i;return(i=(s=this.$slots).default)===null||i===void 0?void 0:i.call(s)},header:()=>{var s,i;return(i=(s=this.$slots).header)===null||i===void 0?void 0:i.call(s)},footer:()=>{var s,i;return(i=(s=this.$slots).footer)===null||i===void 0?void 0:i.call(s)}})]}})}});export{sn as F,qr as N,Ne as a,ze as c,Sn as g,en as k,Nr as p,Ir as r};
