import{ac as c,N as n,C as o}from"./index.1b90d9b0.js";import{n as l}from"./nostr.754d0882.js";import{a as p,N as f}from"./error.32f9621f.js";import{g as y,N as s,p as F}from"./login.8c6c9b27.js";import{u as g}from"./composables.d23d34d7.js";function v(u){return c("usePubkey",()=>{const e=n(void 0),r=g();async function a(){try{e.value=await l.getPublicKey()}catch(t){const i=y();t instanceof f&&i===s.WindowNostr?r.error({title:o("error"),content:"\u60A8\u5F53\u524D\u4F7F\u7528\u63D2\u4EF6\u6388\u6743\u767B\u5F55,\u4F46\u662F\u5E76\u6CA1\u6709\u627E\u5230\u6B64api,\u4F60\u9700\u8981\u68C0\u67E5\u767B\u5F55\u63D2\u4EF6\u662F\u5426\u5B89\u88C5",positiveText:o("yes"),onPositiveClick:()=>{}}):i!==s.NotLogin&&r.error({title:o("error"),content:String(t),positiveText:o("yes"),onPositiveClick:()=>{}}),u!=null&&u.intercept&&F()}}return a(),e},{duration:10*1e3,useLocalStorage:!1})}function A(){const u=n(null);return p().then(e=>{u.value=e}),u}export{v as a,A as u};
