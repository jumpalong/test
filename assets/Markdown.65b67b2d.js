import{T as i}from"./nostr.754d0882.js";import{q as l,o as u,c}from"./use.1e6bcf04.js";import{b as p}from"./nostr.5da3da54.js";import{k as a}from"./index.1b90d9b0.js";function A(t){const o=l(i.EventApi),n=a(()=>t.value?typeof t.value=="object"?t.value:p(t.value):null),e=a(()=>n.value&&o.createGetEventLineByAddressPointer(n.value,{urls:new Set(n.value.relays)})),r=a(()=>{var s;return(s=e.value)==null?void 0:s.feat.getLatestEvent()});return{line:e,addressPointer:n,event:r,longFormContentOptions:f(r)}}function f(t){return a(()=>{if(!t.value)return;const o={};o.content=t.value.content;for(const e of["title","summary","image"]){const r=u(e,t.value.tags);r&&r[1]&&(o[e]=r[1])}const n=u("published_at",t.value.tags);if(n&&n[1])try{o.publishedAt=parseInt(n[1])}catch{}return o.hashtags=t.value.tags.filter(e=>e[0]==="t"&&e[1]).map(e=>e[1]),o})}const[b,d]=c(t=>t);export{f as a,d as b,b as p,A as u};
