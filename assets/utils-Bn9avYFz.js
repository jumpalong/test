import{bg as I,j as $,c0 as M,bJ as K,b9 as C,cN as N,bv as E}from"./index-Bp8Ru9nj.js";function H(e,t,r){if(!t)return;const n=I(),c=$(M,null),o=()=>{const i=r.value;t.mount({id:i===void 0?e:i+e,head:!0,anchorMetaName:C,props:{bPrefix:i?`.${i}-`:void 0},ssr:n}),c!=null&&c.preflightStyleDisabled||N.mount({id:"n-global",head:!0,anchorMetaName:C,ssr:n})};n?o():K(o)}const y={useMemoryCache:!0,useLocalStorage:!0,requestMerge:!0,cacheError:!0};function b(e,t=36e5){return{value:e,updateTime:Date.now(),duration:t}}function A(e){return`${e.updateTime},${e.duration}|${JSON.stringify(e.value)}`}function g(e){const t=_(e,"|",15,36);if(t===-1)throw new Error("CacheString:Expecting a '|'");const[r,n]=e.slice(0,t).split(","),c=e.slice(t+1),o=parseInt(r),i=parseInt(n),a=JSON.parse(c);return{updateTime:o,duration:i,value:a}}function _(e,t,r,n){e.length-1<n&&(n=e.length-1);for(let c=r;c<=n;c++)if(e[c]===t)return c;return-1}class x{constructor(t){this.LIST_KEY=t,this.init()}init(){const t=localStorage.getItem(this.LIST_KEY);if(!t){this.keyList=new Set;return}const r=JSON.parse(t);if(!Array.isArray(r)){this.keyList=new Set;return}this.keyList=new Set(r)}add(t){this.keyList.add(t),this.updateKeyList()}delete(t){this.keyList.delete(t),this.updateKeyList()}getKeys(){return this.keyList}updateKeyList(){const t=JSON.stringify(Array.from(this.keyList));localStorage.setItem(this.LIST_KEY,t)}clear(){localStorage.removeItem(this.LIST_KEY)}}const d=new x("__cache_key_list_");setTimeout(()=>{J()});function J(){const e=window.localStorage,t=d.getKeys();for(const r of t)try{const n=e.getItem(r);if(!n)continue;const c=g(n);if(!w(c))continue;S(c)}catch{e.removeItem(r)}}window.clearCache=O;function O(){const e=window.localStorage,t=d.getKeys();for(const r of t)try{const n=e.getItem(r);if(!n)continue;const c=g(n);if(!w(c))continue;e.removeItem(r)}catch{}}window.clearCacheAll=P;function P(){const e=window.localStorage,t=e.length;for(let r=0;r<t;r++){const n=e.key(r);if(!n)continue;const c=e.getItem(n);if(c)try{const o=g(c);if(!w(o))continue;e.removeItem(n)}catch{continue}}}let T={};const l=new E;l.setMaxListeners(1e3);function Q(e,t,r=y,...n){z(r,y);try{return L(e,r)}catch{return k(e,t,r,n)}}const h=Symbol("noCache"),p=Symbol("skip");function k(e,t,r,n){const c=o=>(m(e,o,r),o);return r.requestMerge?D(e,t,r,n):v(e,t,r,n,o=>o.then(c,r.cacheError?c:void 0))}function D(e,t,r,n){const c=`res:${e}`,o=`rej:${e}`,i=s=>l.emit(c,s),a=s=>l.emit(o,s),f=()=>new Promise((s,u)=>{l.once(c,s),l.once(o,u)});return l.listenerCount(c)>0?f():v(e,t,r,n,s=>(s.then(u=>{m(e,u,r),i(u)},u=>{r.cacheError&&m(e,u,r),a(u)}),f()))}function v(e,t,r,n,c){const o=t(...n);return F(o)?c(o):(m(e,o,r),o)}function L(e,t=y){try{if(!t.useMemoryCache)throw p;return j(e)}catch{if(!t.useLocalStorage)throw p;return R(e)}}function U(e,t){try{return L(e,t)}catch{return null}}function m(e,t,r){const n=b(t,r==null?void 0:r.duration);r!=null&&r.useMemoryCache&&q(e,n),r!=null&&r.useLocalStorage&&B(e,n)}function j(e){const t=T[e];return S(t),t.value}function R(e){const t=Y(e);try{const r=g(t);return S(r),r.value}catch(r){throw d.delete(e),r}}function Y(e){const t=localStorage.getItem(e);if(!t)throw h;return t}function q(e,t){T[e]=t}function B(e,t){d.add(e),localStorage.setItem(e,A(t))}function S(e){if(!e)throw h;const t=Date.now(),r=e.updateTime,n=e.duration;try{if(!(t-r<n))throw h}catch{throw h}}function w(e){return!(!e||typeof e!="object"||typeof e.updateTime!="number"||typeof e.duration!="number")}function W(e){if(navigator.clipboard)navigator.clipboard.writeText(e);else{var t=document.createElement("textarea");document.body.appendChild(t),t.style.position="fixed",t.style.clip="rect(0 0 0 0)",t.style.top="10px",t.value=e,t.select(),document.execCommand("copy",!0),document.body.removeChild(t)}}function X(){return Math.floor(Date.now()/1e3)}function z(e,t){if(!e)return{...t};if(!t)return e;for(const r in t)e[r]??(e[r]=t[r]);return e}async function Z(e=0){return new Promise((t,r)=>{setTimeout(()=>{t()},e)})}function F(e){return!!e&&typeof e.then=="function"}function V(){return(Math.random()*2**52).toString(36)}function ee(e,t=1e3,r=t*4){if(t<=0)return e;let n,c;const o=(...i)=>{clearTimeout(n),n=setTimeout(()=>{clearTimeout(c),e(...i)},t),c=setTimeout(()=>{clearTimeout(n),e(...i)},r)};return o.clear=()=>{clearTimeout(n)},o}function te(e,t){const r=e.indexOf(t);r!==-1&&e.splice(r,1)}function re(e,t="    "){function r(c){let o="";for(let i=0;i<c;i++)o+=t;return o}let n=(c,o)=>{const i=()=>r(o);return Array.isArray(c)?`[
${i()}${c.map(a=>`${n(a,o+1)}`).join(`,
${i()}`)}
${r(o-1)}]`:typeof c=="object"&&c!==null?`{
${i()}${Object.entries(c).map(([a,f])=>`${JSON.stringify(a)}: ${n(f,o+1)}`).join(`,
${i()}`)}
${r(o-1)}}`:JSON.stringify(c)};return n(e,1)}export{V as a,Q as b,O as c,ee as d,te as e,W as f,y as g,U as h,J as i,X as n,re as p,m as s,Z as t,H as u,z as w};
