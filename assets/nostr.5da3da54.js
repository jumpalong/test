import{n as u}from"./use.1e6bcf04.js";import{n as o,a as d}from"./nostr.1ed837f5.js";import{ak as i}from"./index.1b90d9b0.js";function s(e){try{const t=o.decode(e);switch(t.type){case"nprofile":return t.data;case"npub":return{pubkey:t.data};default:return null}}catch{try{return o.npubEncode(e),{pubkey:e}}catch{return null}}}function v(e){try{const c=o.decode(e);if(c.type==="naddr")return c.data}catch{}const[t,n,r]=e.split(":");if(t&&n&&r)try{return{kind:parseInt(t),identifier:r,pubkey:n}}catch{}return null}function E(e){if(!e)return null;if(f(e))return e;try{const t=o.decode(e);return t.type==="nsec"?t.data:null}catch{return null}}function f(e){try{const t=o.nsecEncode(e);return o.decode(t).data===e}catch{return!1}}function l(e){return o.nprofileEncode(e)}function g(e){const t=s(e);return t?l(t):null}function b(e){try{const t=o.decode(e);switch(t.type){case"nevent":return t.data;case"note":return{id:t.data,relays:[]};default:return null}}catch{try{return o.noteEncode(e),{id:e,relays:[]}}catch{return null}}}function k(e,t){var r;const n=new Set;for(const c of e)for(const a of t)i(n,(r=a[c])!=null?r:[]);return n}function D(e,t){const n=u(e.tags);return e.tags.forEach(r=>{(r[0]==="e"||r[0]==="p")&&r[2]&&n.add(r[2])}),o.neventEncode({id:e.id,relays:[...n,...t!=null?t:[]]})}function m(e){return Object.assign({kind:1,tags:[],content:"",created_at:Math.floor(Date.now()/1e3)},e)}function w(){return d()}export{m as a,v as b,w as c,E as d,b as e,g as f,k as g,D as n,s as t};
