import{q as u,g as c}from"./use.b23b6c29.js";import{f as l,an as _,N as f,o as h,l as d,w as e,m as a,v as C,x as g,n as v,C as w}from"./index.8f62a545.js";import{T as F,a as B,r as N}from"./nostr.c03670ae.js";import{_ as x}from"./ChannelMetadataEdit.vue_vue_type_script_setup_true_lang.0a2126d3.js";import{_ as y}from"./Button.22997a19.js";import{_ as M}from"./Space.32f062de.js";import"./Staff.e039c64f.js";import"./UploadInput.vue_vue_type_script_setup_true_lang.caf8a136.js";import"./UploadButton.vue_vue_type_script_setup_true_lang.a94967af.js";import"./CloudUpload.c28b341b.js";import"./Upload.39a290a3.js";import"./format-length.3612bbc8.js";import"./Icon.1c3d6ebf.js";import"./use-style.d8216a24.js";import"./Warning.6502c178.js";import"./replaceable.815b8f5c.js";import"./create-key.7b548031.js";import"./use-css-vars-class.1ada0b07.js";import"./is-browser.f4df612e.js";import"./RegExpUtils.102c01f0.js";import"./utils.e1137b57.js";import"./Scrollbar.8d5a1903.js";import"./use-rtl.6d35c504.js";import"./cssr.21c6f8e2.js";import"./fade-in-scale-up.cssr.5ebe4351.js";import"./use-locale.cbb1f83b.js";import"./Loading.0b953150.js";import"./Follower.7ba57362.js";import"./Tooltip.d86a0762.js";import"./Popover.6590eae2.js";import"./Input.90533fe2.js";import"./index.62f1e1b0.js";import"./Add.d66e299e.js";import"./Icon.904bc99e.js";import"./Upload.b5c9ebfa.js";import"./fade-in-height-expand.cssr.a4865c47.js";import"./get-slot.4ceacf82.js";const lt=l({__name:"CreateChannelView",setup(k){const r=u(F.FollowChannelSynchronizer),o=_(),i=c(),t=f({});async function m(){if(!t.value.name){o.warning("\u8BF7\u8F93\u5165channelName");return}const n=await B.publish({kind:40,content:JSON.stringify(t.value)},N.getWriteList(),{onOK:i});n?(r.joinChannel(n.id,{channelMetadata:t.value}),o.success("\u521B\u5EFA\u6210\u529F")):o.warning("\u6CA1\u6709\u521B\u5EFA\u6210\u529F")}return(n,E)=>{const p=y,s=M;return h(),d(s,{vertical:""},{default:e(()=>[a(x,{channelMetadata:t.value},null,8,["channelMetadata"]),a(p,{onClick:m},{default:e(()=>[C(g(v(w)("create")),1)]),_:1})]),_:1})}}});export{lt as default};
