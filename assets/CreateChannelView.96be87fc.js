import{f as l,aB as _,aQ as p,V as m,A as f,B as d,C as t,D as o,H as g,I as h,F as C,aR as B,az as F,_ as v,X as w,Q as M}from"./index.243f7ff1.js";import{g as k}from"./FollowChannel.bbaf04ab.js";import{_ as x}from"./ChannelMetadataEdit.vue_vue_type_script_setup_true_lang.5b143095.js";import"./UploadInput.vue_vue_type_script_setup_true_lang.8db086dd.js";import"./UploadButton.vue_vue_type_script_setup_true_lang.0927adf2.js";import"./CloudUpload.c0dc99f7.js";const K=l({__name:"CreateChannelView",setup(y){const s=k(),e=_(),u=p(),a=m({});async function c(){if(!a.value.name){e.warning("\u8BF7\u8F93\u5165channelName");return}const n=await B.publish({kind:40,content:JSON.stringify(a.value)},F.getWriteList(),{onOK:u});n?(s.joinChannel(n.id,{channelMetadata:a.value}),e.success("\u521B\u5EFA\u6210\u529F")):e.warning("\u6CA1\u6709\u521B\u5EFA\u6210\u529F")}return(n,A)=>{const r=v,i=w;return f(),d(i,{vertical:""},{default:t(()=>[o(x,{channelMetadata:a.value},null,8,["channelMetadata"]),o(r,{onClick:c},{default:t(()=>[g(h(C(M)("create")),1)]),_:1})]),_:1})}}});export{K as default};
