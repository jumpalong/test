import{aJ as y,o as n,z as u,au as h,f as $,l as v,w as c,m as a,M as F,N as m,ae as I,j as D,_ as O,k as L,n as e,aD as S,x as N,y as b,bD as U,bE as M,ao as J,a8 as B,ac as K,bF as W,a9 as q,aL as G,r as R,v as Q,A as X,F as Y,C as Z}from"./index.1b90d9b0.js";import{N as E}from"./Icon.d35ca04d.js";import{_ as H}from"./Button.426eb201.js";import{u as ee,_ as te}from"./RelayInfoView.f4d9e053.js";import{E as ne}from"./Ellipsis.d8aa1f93.js";import{c as oe}from"./nostr.754d0882.js";import{s as se}from"./use.1e6bcf04.js";import{u as le}from"./use-theme-vars.726be0e1.js";import{_ as re}from"./Empty.36cca092.js";import{_ as ce,a as ae}from"./ListItem.9baa61b5.js";const ue={},ie={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_e=h("g",{fill:"none"},[h("path",{d:"M10.5 2.75a.75.75 0 0 0-1.5 0V9H2.75a.75.75 0 0 0 0 1.5H9v6.25a.75.75 0 0 0 1.5 0V10.5h6.25a.75.75 0 0 0 0-1.5H10.5V2.75z",fill:"currentColor"})],-1),fe=[_e];function me(l,r){return n(),u("svg",ie,fe)}const pe=y(ue,[["render",me]]),qe=$({__name:"AddButton",props:{disabled:{type:Boolean}},emits:["click"],setup(l,{emit:r}){const o=l;return(p,i)=>{const t=E,_=H;return n(),v(_,{disabled:o.disabled,circle:"",text:"",type:"primary",class:"text-[#6c5ce7] hover:text-[#a29bfe]",onClick:i[0]||(i[0]=s=>r("click",s))},{icon:c(()=>[a(t,null,{default:c(()=>[a(pe)]),_:1})]),_:1},8,["disabled"])}}}),de={},ve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},he=h("path",{d:"M15.9 5c-.17 0-.32.09-.41.23l-.07.15l-5.18 11.65c-.16.29-.26.61-.26.96c0 1.11.9 2.01 2.01 2.01c.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM2.06 10.06c.51.51 1.33.55 1.89.09c2.76-2.26 6.24-3.18 9.58-2.76l1.19-2.68c-4.35-.78-8.96.3-12.57 3.25c-.64.53-.68 1.51-.09 2.1zm19.88 0c.59-.59.55-1.57-.1-2.1a15.393 15.393 0 0 0-4.44-2.53l-.53 2.82c1.13.47 2.19 1.09 3.17 1.89c.58.46 1.39.43 1.9-.08zm-4.03 4.03c.6-.6.56-1.63-.14-2.12c-.46-.33-.94-.61-1.44-.86l-.55 2.92c.11.07.22.14.32.22c.57.4 1.33.32 1.81-.16zm-11.83-.01c.5.5 1.27.54 1.85.13c.94-.66 2.01-1.06 3.1-1.22l1.28-2.88c-2.13-.06-4.28.54-6.09 1.84c-.69.51-.74 1.53-.14 2.13z",fill:"currentColor"},null,-1),we=[he];function xe(l,r){return n(),u("svg",ve,we)}const ge=y(de,[["render",xe]]),ke={},ye={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},$e=h("path",{d:"M13 8v8h-3V8h3m0-3h-3C8.34 5 7 6.34 7 8v8c0 1.66 1.34 3 3 3h3c1.66 0 3-1.34 3-3V8c0-1.66-1.34-3-3-3zM1 8h2v11h3V5H1v3zm17.5 3c-.83 0-1.5.68-1.5 1.5v2c0 .82.67 1.5 1.5 1.5H21v1h-4v2h4.5c.83 0 1.5-.67 1.5-1.5v-2c0-.83-.67-1.5-1.5-1.5H19v-1h4v-2h-4.5z",fill:"currentColor"},null,-1),Ce=[$e];function be(l,r){return n(),u("svg",ye,Ce)}const ze=y(ke,[["render",be]]),Ve={},Me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Be=h("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M2.74 18c-.77 1.33.19 3 1.73 3h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18zM11 11v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zm0 5h2v2h-2z",fill:"currentColor"},null,-1),Le=[Be];function Se(l,r){return n(),u("svg",Me,Le)}const Ne=y(Ve,[["render",Se]]),Re=$({__name:"Ping",props:{url:null},setup(l){const o=F(l,"url");let p=m(!1),i=m(!1),t=m(null);const _=m(1e4),s=m(500),k=m(null),x=se(k);let d=m(!1);function z(g=!1){if(!!o.value&&!t.value){d.value=!0;try{let f=new URL(o.value).host;if(g&&(M(`p:${f}`),M(`pe:${f}`)),J(`pe:${f}`,B)){d.value=!1,i.value=!0;return}Promise.resolve(K(`p:${f}`,()=>W(f,_.value),{cacheError:!1})).then(w=>{t.value=w,d.value=!1}).catch(w=>{q(`pe:${f}`,!0,B),d.value=!1,i.value=!0})}catch{p.value=!0,d.value=!1}}}const P=I(z),T=Symbol(),C=D(T,()=>null,!0);O(()=>{var g;!(x.value&&((g=C==null?void 0:C.value)!=null?g:oe.autoPing))||P()});const V=L(()=>t.value?t.value>=_.value?255:t.value<=s.value?0:Math.floor(t.value/(_.value-s.value)*255):0);function j(){t.value=null,z(!0)}return(g,f)=>{const w=E,A=H;return n(),u("div",{key:e(o),ref_key:"target",ref:k,class:"rounded-full text-center felx items-center justify-center"},[a(A,{text:"",round:"",onClick:U(j,["stop"]),loading:e(d)},{default:c(()=>[e(t)?(n(),u("span",{key:0,style:S({fontSize:"0.5em",color:`rgb(${e(V)},${255-e(V)},0)`})},N(e(t)),5)):e(p)?(n(),v(w,{key:1,color:"red"},{default:c(()=>[a(Ne)]),_:1})):e(i)?(n(),v(w,{key:2,color:"orange"},{default:c(()=>[a(ze)]),_:1})):e(d)?b("",!0):(n(),v(w,{key:3,color:"#3742fa"},{default:c(()=>[a(ge)]),_:1}))]),_:1},8,["onClick","loading"])])}}}),Ee={class:"flex w-full"},He=$({__name:"RelayUrlShow",props:{url:null},setup(l){const r=l,{url:o}=G(r),p=le(),{toRelayInfoView:i}=ee(),t=m(!1);return(_,s)=>(n(),u("div",null,[e(o)?(n(),u("div",{key:0,class:"flex w-full button",onClick:s[0]||(s[0]=()=>e(i)(e(o))),onMouseenter:s[1]||(s[1]=()=>t.value=!0),onMouseleave:s[2]||(s[2]=()=>t.value=!1),style:S({color:t.value?e(p).successColorHover:void 0})},[h("span",Ee,[R(_.$slots,"default",{class:"w-0 flex-1 flex-shrink"},()=>[a(ne,null,{default:c(()=>[Q(N(e(o)),1)]),_:1})]),a(Re,{class:"shrink-0",url:e(o)},null,8,["url"])])],36)):b("",!0)]))}}),Pe={key:0,class:"w-full h-28 flex justify-center items-center"},Te={class:"flex items-center flex-shrink-0 w-max"},Ge=$({__name:"RelayConnectList",props:{urls:null,title:null,loadable:{type:Boolean}},setup(l){const r=l,o=L(()=>r.urls[Symbol.iterator]().next().done===!0);return(p,i)=>{const t=te,_=re,s=ae,k=ce;return n(),v(k,{class:"w-full transparent"},{default:c(()=>[r.loadable&&e(o)?(n(),u("div",Pe,[a(t,{size:"large"})])):e(o)?(n(),v(_,{key:1,size:"large",description:e(Z)("empty_text")},null,8,["description"])):b("",!0),(n(!0),u(Y,null,X(l.urls,x=>(n(),v(s,{class:"flex",key:x},{suffix:c(()=>[h("div",Te,[R(p.$slots,"right",{url:x})])]),default:c(()=>[a(He,{url:x},null,8,["url"])]),_:2},1024))),128))]),_:3})}}});export{qe as _,Ge as a,He as b};
