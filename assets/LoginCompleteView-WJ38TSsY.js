import{u as H,b as z,c as E,e as R}from"./ProvideEventLine-XLCKst21.js";import{_ as U}from"./LoginCard.vue_vue_type_script_setup_true_lang-qKgUXtDG.js";import{u as q,b as D}from"./LoginCompleteHook-CDm8_idV.js";import{_ as M}from"./TestNostrApi.vue_vue_type_script_setup_true_lang-Cbp_5dlV.js";import{_ as S}from"./Tooltip.vue_vue_type_script_setup_true_lang-qU6rsbI7.js";import{_ as T,o as u,B as F,E as v,f as I,L as O,W as P,V as W,X,m as h,w as e,r as _,n as s,q as n,U as k,A as j,y as g,z as w}from"./index-Bp8Ru9nj.js";import{u as G}from"./naiveUi-DD7D_Mah.js";import{N as J}from"./Icon-BUbDyWQc.js";import{_ as K}from"./Input-uRxkwxbK.js";import{_ as Q}from"./Alert-CnSYdH84.js";import{_ as Y}from"./Checkbox-Bvv02CAZ.js";import{_ as Z}from"./Space-D7Gj9TeE.js";import"./utils-Bn9avYFz.js";import"./Favicon-ZYZOVOsJ.js";import"./Scrollbar-D8p4HDwI.js";import"./ReloadCircleSharp-DAOD49WP.js";import"./Scrollbar-DlbzZyTV.js";import"./Scrollbar-Bcd6cbpf.js";import"./use-rtl-gkSu3eK_.js";import"./use-css-vars-class-DV7GkkKb.js";import"./Card-z75eEPHe.js";import"./index-vZmvdULR.js";import"./Button-DF3Ei97P.js";import"./is-browser-Ki2-8vi-.js";import"./Close-sZEX0j0N.js";import"./Icon-C2DldZ3i.js";import"./Close-B84N3VcG.js";import"./replaceable-B2OdU2Vz.js";import"./keysOf-HiGXOwLp.js";import"./Tooltip-CWAJuqVc.js";import"./Popover-CWXHRS55.js";import"./Follower-BLKhK3H2.js";import"./format-length-B-p6aW7q.js";import"./use-compitable-BZNVtFY-.js";import"./composables-Den7Xj81.js";import"./use-locale-DHyx6amc.js";import"./fade-in-height-expand.cssr-BOUpW_kQ.js";import"./Warning-BHWEvLya.js";import"./get-slot-Bk_rJcZu.js";const tt={},ot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},et=v("g",{fill:"none"},[v("path",{d:"M4 4.085V10.5a2.5 2.5 0 0 0 2.336 2.495L6.5 13h4.414A1.5 1.5 0 0 1 9.5 14H6a3 3 0 0 1-3-3V5.5a1.5 1.5 0 0 1 1-1.415zM11.5 2A1.5 1.5 0 0 1 13 3.5v7a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 5 10.5v-7A1.5 1.5 0 0 1 6.5 2h5z",fill:"currentColor"})],-1),st=[et];function rt(y,p){return u(),F("svg",ot,st)}const nt=T(tt,[["render",rt]]),Wt=I({__name:"LoginCompleteView",setup(y){let p=H(R,E);const C=G(),r=z(async()=>{var o;return(o=await p.getPrikeyOrNull())==null?void 0:o.getNsec()});function x(){r.value&&C(r.value)}const a=O(),d=P(),N=W(),m=q(),f=X();m==null||m.setHook(async()=>{const o=N.query.redirected;f.start(),setTimeout(()=>{if(!o){d.push({name:"article",params:{value:t("help_article")}});return}d.push(o)},2e3)});const l=D();async function V(){f.start(),await(l==null?void 0:l.runHook())}return(o,i)=>{const b=J,B=K,A=Q,L=Y,$=Z;return u(),h(U,null,{header:e(()=>[_(o.$slots,"default")]),default:e(()=>[s($,{class:"mt-6",vertical:""},{default:e(()=>[n(r)?(u(),h(B,{key:0,placeholder:"",value:n(r),"onUpdate:value":i[0]||(i[0]=c=>k(r)?r.value=c:null),type:"password","show-password-on":"click"},{suffix:e(()=>[s(b,{class:"px-2",onClick:x},{default:e(()=>[s(nt,{class:"hover:text-[#2ed573]"})]),_:1})]),_:1},8,["value"])):j("",!0),s(A,{class:"mt-2",title:o.t("note"),type:"warning"},{default:e(()=>[g(w(o.t("keep_private_key_prompt")),1)]),_:1},8,["title"]),s(M,{nostr:n(p).nostrApi},null,8,["nostr"]),s(L,{class:"mt-2",checked:n(a),"onUpdate:checked":i[1]||(i[1]=c=>k(a)?a.value=c:null)},{default:e(()=>[g(w(o.t("i_have_saved_my_private_key_properly")),1)]),_:1},8,["checked"]),_(o.$slots,"prev-step"),s(S,{tooltip:o.t("tick_prompt")},{default:e(()=>[_(o.$slots,"next-step",{next:V,disabled:!n(a)})]),_:3},8,["tooltip"])]),_:3})]),_:3})}}});export{Wt as default};
