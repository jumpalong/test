import{T as d}from"./nostr.754d0882.js";import{t as k}from"./nostr.5da3da54.js";import{q as y}from"./use.1e6bcf04.js";import{f as _,aL as x,k as o,B,o as h,l as w,w as C,au as L,x as p,n as r}from"./index.1b90d9b0.js";const S=_({__name:"UserLink",props:{value:null,withPrefix:{type:Boolean,default:!0}},setup(s){const c=s,{value:a}=x(c),f=y(d.UserApi),n=o(()=>k(a.value)),m=o(()=>{if(!!n.value)return f.getUserMetadataLineByPubkey(n.value.pubkey,{urls:new Set(n.value.relays)})}),u=o(()=>{var e;return(e=m.value)==null?void 0:e.feat.useMetadata()}),v=o(()=>{var e;if(!u.value)return a.value.slice(0,10);for(const l of["name","display_name","displayName","username"]){const t=u.value[l];if((e=t==null?void 0:t.length)!=null?e:0>0)return t}return a.value.slice(0,10)});return(e,l)=>{const t=B("RouterLink");return h(),w(t,{to:{name:"profile",params:{value:r(a)}}},{default:C(()=>{var i;return[L("span",null,p(s.withPrefix?"@":"")+p((i=r(v))!=null?i:r(a).slice(0,10)),1)]}),_:1},8,["to"])}}});export{S as _};
