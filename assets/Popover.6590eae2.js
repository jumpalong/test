import{aH as Me,f as Ee,N as R,a4 as bn,af as je,O as Qe,h as T,F as en,aS as ie,aT as se,aU as mn,aV as yn,aW as Te,aX as Sn,J as z,aY as $e,aZ as X,I as nn,a_ as pe,S as Ce,a$ as En,b0 as Re,b1 as Ie,b2 as ee,b3 as Tn,H as Be,b4 as $n,b5 as An,b6 as _n,b7 as On,b8 as Pn,b9 as xn,b as L,c as F,e as ue,d as de,a as re,ba as Mn,u as Cn,g as Ae,bb as Rn,j as In,_ as tn,k as q,bc as Bn,M as ne,p as te,L as Fn,aG as Dn,bd as rn,U as Fe,be as Ln,v as Nn}from"./index.8f62a545.js";import{p as zn,d as Hn,m as kn,u as oe,b as Kn,z as Un,a as Wn,V as Gn}from"./Follower.7ba57362.js";import{i as on,t as Xn,a as Vn}from"./Button.22997a19.js";import{a as k,o as N,u as Yn}from"./cssr.21c6f8e2.js";import{f as ce}from"./format-length.3612bbc8.js";import{u as Jn}from"./use-css-vars-class.1ada0b07.js";import{c as Zn,g as we,X as qn,u as jn}from"./Scrollbar.8d5a1903.js";import{b as De,r as fe,e as Qn,c as j}from"./Loading.0b953150.js";import{f as et}from"./is-browser.f4df612e.js";function nt(e,n=[],t){const r={};return n.forEach(a=>{r[a]=e[a]}),Object.assign(r,t)}function Le(e,n="default",t=void 0){const r=e[n];if(!r)return Me("getFirstSlotVNode",`slot[${n}] is empty`),null;const a=et(r(t));return a.length===1?a[0]:(Me("getFirstSlotVNode",`slot[${n}] should have exactly one child`),null)}let he;function tt(){return he===void 0&&(he=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),he}const W="@@mmoContext",rt={mounted(e,{value:n}){e[W]={handler:void 0},typeof n=="function"&&(e[W].handler=n,k("mousemoveoutside",e,n))},updated(e,{value:n}){const t=e[W];typeof n=="function"?t.handler?t.handler!==n&&(N("mousemoveoutside",e,t.handler),t.handler=n,k("mousemoveoutside",e,n)):(e[W].handler=n,k("mousemoveoutside",e,n)):t.handler&&(N("mousemoveoutside",e,t.handler),t.handler=void 0)},unmounted(e){const{handler:n}=e[W];n&&N("mousemoveoutside",e,n),e[W].handler=void 0}},ot=rt,G="@@coContext",at={mounted(e,{value:n,modifiers:t}){e[G]={handler:void 0},typeof n=="function"&&(e[G].handler=n,k("clickoutside",e,n,{capture:t.capture}))},updated(e,{value:n,modifiers:t}){const r=e[G];typeof n=="function"?r.handler?r.handler!==n&&(N("clickoutside",e,r.handler,{capture:t.capture}),r.handler=n,k("clickoutside",e,n,{capture:t.capture})):(e[G].handler=n,k("clickoutside",e,n,{capture:t.capture})):r.handler&&(N("clickoutside",e,r.handler,{capture:t.capture}),r.handler=void 0)},unmounted(e,{modifiers:n}){const{handler:t}=e[G];t&&N("clickoutside",e,t,{capture:n.capture}),e[G].handler=void 0}},Ne=at;function ze(e){return typeof e=="string"?document.querySelector(e):e()}function an(e){return e instanceof HTMLElement}function sn(e){for(let n=0;n<e.childNodes.length;n++){const t=e.childNodes[n];if(an(t)&&(un(t)||sn(t)))return!0}return!1}function ln(e){for(let n=e.childNodes.length-1;n>=0;n--){const t=e.childNodes[n];if(an(t)&&(un(t)||ln(t)))return!0}return!1}function un(e){if(!it(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function it(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let Z=[];const st=Ee({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const n=Zn(),t=R(null),r=R(null);let a=!1,o=!1;const s=typeof document>"u"?null:document.activeElement;function i(){return Z[Z.length-1]===n}function l(c){var u;c.code==="Escape"&&i()&&((u=e.onEsc)===null||u===void 0||u.call(e,c))}bn(()=>{je(()=>e.active,c=>{c?(b(),k("keydown",document,l)):(N("keydown",document,l),a&&g())},{immediate:!0})}),Qe(()=>{N("keydown",document,l),a&&g()});function f(c){if(!o&&i()){const u=h();if(u===null||u.contains(we(c)))return;m("first")}}function h(){const c=t.value;if(c===null)return null;let u=c;for(;u=u.nextSibling,!(u===null||u instanceof Element&&u.tagName==="DIV"););return u}function b(){var c;if(!e.disabled){if(Z.push(n),e.autoFocus){const{initialFocusTo:u}=e;u===void 0?m("first"):(c=ze(u))===null||c===void 0||c.focus({preventScroll:!0})}a=!0,document.addEventListener("focus",f,!0)}}function g(){var c;if(e.disabled||(document.removeEventListener("focus",f,!0),Z=Z.filter(S=>S!==n),i()))return;const{finalFocusTo:u}=e;u!==void 0?(c=ze(u))===null||c===void 0||c.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&s instanceof HTMLElement&&(o=!0,s.focus({preventScroll:!0}),o=!1)}function m(c){if(!!i()&&e.active){const u=t.value,S=r.value;if(u!==null&&S!==null){const x=h();if(x==null||x===S){o=!0,u.focus({preventScroll:!0}),o=!1;return}o=!0;const M=c==="first"?sn(x):ln(x);o=!1,M||(o=!0,u.focus({preventScroll:!0}),o=!1)}}}function y(c){if(o)return;const u=h();u!==null&&(c.relatedTarget!==null&&u.contains(c.relatedTarget)?m("last"):m("first"))}function v(c){o||(c.relatedTarget!==null&&c.relatedTarget===t.value?m("last"):m("first"))}return{focusableStartRef:t,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:y,handleEndFocus:v}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:n,focusableStyle:t}=this;return T(en,null,[T("div",{"aria-hidden":"true",tabindex:n?"0":"-1",ref:"focusableStartRef",style:t,onFocus:this.handleStartFocus}),e(),T("div",{"aria-hidden":"true",style:t,ref:"focusableEndRef",tabindex:n?"0":"-1",onFocus:this.handleEndFocus})])}});var lt=ie(se,"WeakMap");const be=lt;var ut=mn(Object.keys,Object);const dt=ut;var ct=Object.prototype,ft=ct.hasOwnProperty;function ht(e){if(!yn(e))return dt(e);var n=[];for(var t in Object(e))ft.call(e,t)&&t!="constructor"&&n.push(t);return n}function _e(e){return Te(e)?Sn(e):ht(e)}var vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gt=/^\w*$/;function Oe(e,n){if(z(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||on(e)?!0:gt.test(e)||!vt.test(e)||n!=null&&e in Object(n)}var pt="Expected a function";function Pe(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(pt);var t=function(){var r=arguments,a=n?n.apply(this,r):r[0],o=t.cache;if(o.has(a))return o.get(a);var s=e.apply(this,r);return t.cache=o.set(a,s)||o,s};return t.cache=new(Pe.Cache||$e),t}Pe.Cache=$e;var wt=500;function bt(e){var n=Pe(e,function(r){return t.size===wt&&t.clear(),r}),t=n.cache;return n}var mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yt=/\\(\\)?/g,St=bt(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(mt,function(t,r,a,o){n.push(a?o.replace(yt,"$1"):r||t)}),n});const Et=St;function dn(e,n){return z(e)?e:Oe(e,n)?[e]:Et(Xn(e))}var Tt=1/0;function le(e){if(typeof e=="string"||on(e))return e;var n=e+"";return n=="0"&&1/e==-Tt?"-0":n}function cn(e,n){n=dn(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[le(n[t++])];return t&&t==r?e:void 0}function $t(e,n,t){var r=e==null?void 0:cn(e,n);return r===void 0?t:r}function At(e,n){for(var t=-1,r=n.length,a=e.length;++t<r;)e[a+t]=n[t];return e}function _t(e,n){for(var t=-1,r=e==null?0:e.length,a=0,o=[];++t<r;){var s=e[t];n(s,t,e)&&(o[a++]=s)}return o}function Ot(){return[]}var Pt=Object.prototype,xt=Pt.propertyIsEnumerable,He=Object.getOwnPropertySymbols,Mt=He?function(e){return e==null?[]:(e=Object(e),_t(He(e),function(n){return xt.call(e,n)}))}:Ot;const Ct=Mt;function Rt(e,n,t){var r=n(e);return z(e)?r:At(r,t(e))}function ke(e){return Rt(e,_e,Ct)}var It=ie(se,"DataView");const me=It;var Bt=ie(se,"Promise");const ye=Bt;var Ft=ie(se,"Set");const Se=Ft;var Ke="[object Map]",Dt="[object Object]",Ue="[object Promise]",We="[object Set]",Ge="[object WeakMap]",Xe="[object DataView]",Lt=X(me),Nt=X(pe),zt=X(ye),Ht=X(Se),kt=X(be),H=nn;(me&&H(new me(new ArrayBuffer(1)))!=Xe||pe&&H(new pe)!=Ke||ye&&H(ye.resolve())!=Ue||Se&&H(new Se)!=We||be&&H(new be)!=Ge)&&(H=function(e){var n=nn(e),t=n==Dt?e.constructor:void 0,r=t?X(t):"";if(r)switch(r){case Lt:return Xe;case Nt:return Ke;case zt:return Ue;case Ht:return We;case kt:return Ge}return n});const Ve=H;var Kt="__lodash_hash_undefined__";function Ut(e){return this.__data__.set(e,Kt),this}function Wt(e){return this.__data__.has(e)}function ae(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new $e;++n<t;)this.add(e[n])}ae.prototype.add=ae.prototype.push=Ut;ae.prototype.has=Wt;function Gt(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function Xt(e,n){return e.has(n)}var Vt=1,Yt=2;function fn(e,n,t,r,a,o){var s=t&Vt,i=e.length,l=n.length;if(i!=l&&!(s&&l>i))return!1;var f=o.get(e),h=o.get(n);if(f&&h)return f==n&&h==e;var b=-1,g=!0,m=t&Yt?new ae:void 0;for(o.set(e,n),o.set(n,e);++b<i;){var y=e[b],v=n[b];if(r)var c=s?r(v,y,b,n,e,o):r(y,v,b,e,n,o);if(c!==void 0){if(c)continue;g=!1;break}if(m){if(!Gt(n,function(u,S){if(!Xt(m,S)&&(y===u||a(y,u,t,r,o)))return m.push(S)})){g=!1;break}}else if(!(y===v||a(y,v,t,r,o))){g=!1;break}}return o.delete(e),o.delete(n),g}function Jt(e){var n=-1,t=Array(e.size);return e.forEach(function(r,a){t[++n]=[a,r]}),t}function Zt(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var qt=1,jt=2,Qt="[object Boolean]",er="[object Date]",nr="[object Error]",tr="[object Map]",rr="[object Number]",or="[object RegExp]",ar="[object Set]",ir="[object String]",sr="[object Symbol]",lr="[object ArrayBuffer]",ur="[object DataView]",Ye=Ce?Ce.prototype:void 0,ve=Ye?Ye.valueOf:void 0;function dr(e,n,t,r,a,o,s){switch(t){case ur:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case lr:return!(e.byteLength!=n.byteLength||!o(new Re(e),new Re(n)));case Qt:case er:case rr:return En(+e,+n);case nr:return e.name==n.name&&e.message==n.message;case or:case ir:return e==n+"";case tr:var i=Jt;case ar:var l=r&qt;if(i||(i=Zt),e.size!=n.size&&!l)return!1;var f=s.get(e);if(f)return f==n;r|=jt,s.set(e,n);var h=fn(i(e),i(n),r,a,o,s);return s.delete(e),h;case sr:if(ve)return ve.call(e)==ve.call(n)}return!1}var cr=1,fr=Object.prototype,hr=fr.hasOwnProperty;function vr(e,n,t,r,a,o){var s=t&cr,i=ke(e),l=i.length,f=ke(n),h=f.length;if(l!=h&&!s)return!1;for(var b=l;b--;){var g=i[b];if(!(s?g in n:hr.call(n,g)))return!1}var m=o.get(e),y=o.get(n);if(m&&y)return m==n&&y==e;var v=!0;o.set(e,n),o.set(n,e);for(var c=s;++b<l;){g=i[b];var u=e[g],S=n[g];if(r)var x=s?r(S,u,g,n,e,o):r(u,S,g,e,n,o);if(!(x===void 0?u===S||a(u,S,t,r,o):x)){v=!1;break}c||(c=g=="constructor")}if(v&&!c){var M=e.constructor,C=n.constructor;M!=C&&"constructor"in e&&"constructor"in n&&!(typeof M=="function"&&M instanceof M&&typeof C=="function"&&C instanceof C)&&(v=!1)}return o.delete(e),o.delete(n),v}var gr=1,Je="[object Arguments]",Ze="[object Array]",Q="[object Object]",pr=Object.prototype,qe=pr.hasOwnProperty;function wr(e,n,t,r,a,o){var s=z(e),i=z(n),l=s?Ze:Ve(e),f=i?Ze:Ve(n);l=l==Je?Q:l,f=f==Je?Q:f;var h=l==Q,b=f==Q,g=l==f;if(g&&Ie(e)){if(!Ie(n))return!1;s=!0,h=!1}if(g&&!h)return o||(o=new ee),s||Tn(e)?fn(e,n,t,r,a,o):dr(e,n,l,t,r,a,o);if(!(t&gr)){var m=h&&qe.call(e,"__wrapped__"),y=b&&qe.call(n,"__wrapped__");if(m||y){var v=m?e.value():e,c=y?n.value():n;return o||(o=new ee),a(v,c,t,r,o)}}return g?(o||(o=new ee),vr(e,n,t,r,a,o)):!1}function xe(e,n,t,r,a){return e===n?!0:e==null||n==null||!Be(e)&&!Be(n)?e!==e&&n!==n:wr(e,n,t,r,xe,a)}var br=1,mr=2;function yr(e,n,t,r){var a=t.length,o=a,s=!r;if(e==null)return!o;for(e=Object(e);a--;){var i=t[a];if(s&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<o;){i=t[a];var l=i[0],f=e[l],h=i[1];if(s&&i[2]){if(f===void 0&&!(l in e))return!1}else{var b=new ee;if(r)var g=r(f,h,l,e,n,b);if(!(g===void 0?xe(h,f,br|mr,r,b):g))return!1}}return!0}function hn(e){return e===e&&!$n(e)}function Sr(e){for(var n=_e(e),t=n.length;t--;){var r=n[t],a=e[r];n[t]=[r,a,hn(a)]}return n}function vn(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==void 0||e in Object(t))}}function Er(e){var n=Sr(e);return n.length==1&&n[0][2]?vn(n[0][0],n[0][1]):function(t){return t===e||yr(t,e,n)}}function Tr(e,n){return e!=null&&n in Object(e)}function $r(e,n,t){n=dn(n,e);for(var r=-1,a=n.length,o=!1;++r<a;){var s=le(n[r]);if(!(o=e!=null&&t(e,s)))break;e=e[s]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&An(a)&&_n(s,a)&&(z(e)||On(e)))}function Ar(e,n){return e!=null&&$r(e,n,Tr)}var _r=1,Or=2;function Pr(e,n){return Oe(e)&&hn(n)?vn(le(e),n):function(t){var r=$t(t,e);return r===void 0&&r===n?Ar(t,e):xe(n,r,_r|Or)}}function xr(e){return function(n){return n==null?void 0:n[e]}}function Mr(e){return function(n){return cn(n,e)}}function Cr(e){return Oe(e)?xr(le(e)):Mr(e)}function Rr(e){return typeof e=="function"?e:e==null?Pn:typeof e=="object"?z(e)?Pr(e[0],e[1]):Er(e):Cr(e)}function Ir(e,n){return e&&xn(e,n,_e)}function Br(e,n){return function(t,r){if(t==null)return t;if(!Te(t))return e(t,r);for(var a=t.length,o=n?a:-1,s=Object(t);(n?o--:++o<a)&&r(s[o],o,s)!==!1;);return t}}var Fr=Br(Ir);const Dr=Fr;function Lr(e,n){var t=-1,r=Te(e)?Array(e.length):[];return Dr(e,function(a,o,s){r[++t]=n(a,o,s)}),r}function Nr(e,n){var t=z(e)?Vn:Lr;return t(e,Rr(n))}const ge={top:"bottom",bottom:"top",left:"right",right:"left"},$="var(--n-arrow-height) * 1.414",zr=L([F("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[L(">",[F("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),ue("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[ue("scrollable",[ue("show-header-or-footer","padding: var(--n-padding);")])]),de("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),de("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),re("scrollable, show-header-or-footer",[de("content",`
 padding: var(--n-padding);
 `)])]),F("popover-shared",`
 transform-origin: inherit;
 `,[F("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[F("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${$});
 height: calc(${$});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),L("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),L("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),L("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),L("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),P("top-start",`
 top: calc(${$} / -2);
 left: calc(${B("top-start")} - var(--v-offset-left));
 `),P("top",`
 top: calc(${$} / -2);
 transform: translateX(calc(${$} / -2)) rotate(45deg);
 left: 50%;
 `),P("top-end",`
 top: calc(${$} / -2);
 right: calc(${B("top-end")} + var(--v-offset-left));
 `),P("bottom-start",`
 bottom: calc(${$} / -2);
 left: calc(${B("bottom-start")} - var(--v-offset-left));
 `),P("bottom",`
 bottom: calc(${$} / -2);
 transform: translateX(calc(${$} / -2)) rotate(45deg);
 left: 50%;
 `),P("bottom-end",`
 bottom: calc(${$} / -2);
 right: calc(${B("bottom-end")} + var(--v-offset-left));
 `),P("left-start",`
 left: calc(${$} / -2);
 top: calc(${B("left-start")} - var(--v-offset-top));
 `),P("left",`
 left: calc(${$} / -2);
 transform: translateY(calc(${$} / -2)) rotate(45deg);
 top: 50%;
 `),P("left-end",`
 left: calc(${$} / -2);
 bottom: calc(${B("left-end")} + var(--v-offset-top));
 `),P("right-start",`
 right: calc(${$} / -2);
 top: calc(${B("right-start")} - var(--v-offset-top));
 `),P("right",`
 right: calc(${$} / -2);
 transform: translateY(calc(${$} / -2)) rotate(45deg);
 top: 50%;
 `),P("right-end",`
 right: calc(${$} / -2);
 bottom: calc(${B("right-end")} + var(--v-offset-top));
 `),...Nr({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,n)=>{const t=["right","left"].includes(n),r=t?"width":"height";return e.map(a=>{const o=a.split("-")[1]==="end",i=`calc((${`var(--v-target-${r}, 0px)`} - ${$}) / 2)`,l=B(a);return L(`[v-placement="${a}"] >`,[F("popover-shared",[re("center-arrow",[F("popover-arrow",`${n}: calc(max(${i}, ${l}) ${o?"+":"-"} var(--v-offset-${t?"left":"top"}));`)])])])})})]);function B(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function P(e,n){const t=e.split("-")[0],r=["top","bottom"].includes(t)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return L(`[v-placement="${e}"] >`,[F("popover-shared",`
 margin-${ge[t]}: var(--n-space);
 `,[re("show-arrow",`
 margin-${ge[t]}: var(--n-space-arrow);
 `),re("overlap",`
 margin: 0;
 `),Mn("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${t}: 100%;
 ${ge[t]}: auto;
 ${r}
 `,[F("popover-arrow",n)])])])}const gn=Object.assign(Object.assign({},Ae.props),{to:oe.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Hr=({arrowStyle:e,clsPrefix:n})=>T("div",{key:"__popover-arrow__",class:`${n}-popover-arrow-wrapper`},T("div",{class:`${n}-popover-arrow`,style:e})),kr=Ee({name:"PopoverBody",inheritAttrs:!1,props:gn,setup(e,{slots:n,attrs:t}){const{namespaceRef:r,mergedClsPrefixRef:a,inlineThemeDisabled:o}=Cn(e),s=Ae("Popover","-popover",zr,Rn,e,a),i=R(null),l=In("NPopover"),f=R(null),h=R(e.show),b=R(!1);tn(()=>{const{show:p}=e;p&&!tt()&&!e.internalDeactivateImmediately&&(b.value=!0)});const g=q(()=>{const{trigger:p,onClickoutside:A}=e,_=[],{positionManuallyRef:{value:w}}=l;return w||(p==="click"&&!A&&_.push([Ne,M,void 0,{capture:!0}]),p==="hover"&&_.push([ot,x])),A&&_.push([Ne,M,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&b.value)&&_.push([Bn,e.show]),_}),m=q(()=>{const p=e.width==="trigger"?void 0:ce(e.width),A=[];p&&A.push({width:p});const{maxWidth:_,minWidth:w}=e;return _&&A.push({maxWidth:ce(_)}),w&&A.push({maxWidth:ce(w)}),o||A.push(y.value),A}),y=q(()=>{const{common:{cubicBezierEaseInOut:p,cubicBezierEaseIn:A,cubicBezierEaseOut:_},self:{space:w,spaceArrow:Y,padding:J,fontSize:D,textColor:d,dividerColor:E,color:O,boxShadow:K,borderRadius:U,arrowHeight:I,arrowOffset:pn,arrowOffsetVertical:wn}}=s.value;return{"--n-box-shadow":K,"--n-bezier":p,"--n-bezier-ease-in":A,"--n-bezier-ease-out":_,"--n-font-size":D,"--n-text-color":d,"--n-color":O,"--n-divider-color":E,"--n-border-radius":U,"--n-arrow-height":I,"--n-arrow-offset":pn,"--n-arrow-offset-vertical":wn,"--n-padding":J,"--n-space":w,"--n-space-arrow":Y}}),v=o?Jn("popover",void 0,y,e):void 0;l.setBodyInstance({syncPosition:c}),Qe(()=>{l.setBodyInstance(null)}),je(ne(e,"show"),p=>{e.animated||(p?h.value=!0:h.value=!1)});function c(){var p;(p=i.value)===null||p===void 0||p.syncPosition()}function u(p){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(p)}function S(p){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(p)}function x(p){e.trigger==="hover"&&!C().contains(we(p))&&l.handleMouseMoveOutside(p)}function M(p){(e.trigger==="click"&&!C().contains(we(p))||e.onClickoutside)&&l.handleClickOutside(p)}function C(){return l.getTriggerElement()}te(zn,f),te(Hn,null),te(kn,null);function V(){if(v==null||v.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&b.value))return null;let A;const _=l.internalRenderBodyRef.value,{value:w}=a;if(_)A=_([`${w}-popover-shared`,v==null?void 0:v.themeClass.value,e.overlap&&`${w}-popover-shared--overlap`,e.showArrow&&`${w}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${w}-popover-shared--center-arrow`],f,m.value,u,S);else{const{value:Y}=l.extraClassRef,{internalTrapFocus:J}=e,D=!De(n.header)||!De(n.footer),d=()=>{var E;const O=D?T(en,null,fe(n.header,I=>I?T("div",{class:`${w}-popover__header`,style:e.headerStyle},I):null),fe(n.default,I=>I?T("div",{class:`${w}-popover__content`,style:e.contentStyle},n):null),fe(n.footer,I=>I?T("div",{class:`${w}-popover__footer`,style:e.footerStyle},I):null)):e.scrollable?(E=n.default)===null||E===void 0?void 0:E.call(n):T("div",{class:`${w}-popover__content`,style:e.contentStyle},n),K=e.scrollable?T(qn,{contentClass:D?void 0:`${w}-popover__content`,contentStyle:D?void 0:e.contentStyle},{default:()=>O}):O,U=e.showArrow?Hr({arrowStyle:e.arrowStyle,clsPrefix:w}):null;return[K,U]};A=T("div",Dn({class:[`${w}-popover`,`${w}-popover-shared`,v==null?void 0:v.themeClass.value,Y.map(E=>`${w}-${E}`),{[`${w}-popover--scrollable`]:e.scrollable,[`${w}-popover--show-header-or-footer`]:D,[`${w}-popover--raw`]:e.raw,[`${w}-popover-shared--overlap`]:e.overlap,[`${w}-popover-shared--show-arrow`]:e.showArrow,[`${w}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:f,style:m.value,onKeydown:l.handleKeydown,onMouseenter:u,onMouseleave:S},t),J?T(st,{active:e.show,autoFocus:!0},{default:d}):d())}return rn(A,g.value)}return{displayed:b,namespace:r,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:i,adjustedTo:oe(e),followerEnabled:h,renderContentNode:V}},render(){return T(Kn,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===oe.tdkey},{default:()=>this.animated?T(Fn,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),Kr=Object.keys(gn),Ur={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function Wr(e,n,t){Ur[n].forEach(r=>{e.props?e.props=Object.assign({},e.props):e.props={};const a=e.props[r],o=t[r];a?e.props[r]=(...s)=>{a(...s),o(...s)}:e.props[r]=o})}const Gr=Nn("").type,Xr={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:oe.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},Vr=Object.assign(Object.assign(Object.assign({},Ae.props),Xr),{internalOnAfterLeave:Function,internalRenderBody:Function}),ro=Ee({name:"Popover",inheritAttrs:!1,props:Vr,__popover__:!0,setup(e){const n=Qn(),t=R(null),r=q(()=>e.show),a=R(e.defaultShow),o=Yn(r,a),s=Fe(()=>e.disabled?!1:o.value),i=()=>{if(e.disabled)return!0;const{getDisabled:d}=e;return!!(d!=null&&d())},l=()=>i()?!1:o.value,f=jn(e,["arrow","showArrow"]),h=q(()=>e.overlap?!1:f.value);let b=null;const g=R(null),m=R(null),y=Fe(()=>e.x!==void 0&&e.y!==void 0);function v(d){const{"onUpdate:show":E,onUpdateShow:O,onShow:K,onHide:U}=e;a.value=d,E&&j(E,d),O&&j(O,d),d&&K&&j(K,!0),d&&U&&j(U,!1)}function c(){b&&b.syncPosition()}function u(){const{value:d}=g;d&&(window.clearTimeout(d),g.value=null)}function S(){const{value:d}=m;d&&(window.clearTimeout(d),m.value=null)}function x(){const d=i();if(e.trigger==="focus"&&!d){if(l())return;v(!0)}}function M(){const d=i();if(e.trigger==="focus"&&!d){if(!l())return;v(!1)}}function C(){const d=i();if(e.trigger==="hover"&&!d){if(S(),g.value!==null||l())return;const E=()=>{v(!0),g.value=null},{delay:O}=e;O===0?E():g.value=window.setTimeout(E,O)}}function V(){const d=i();if(e.trigger==="hover"&&!d){if(u(),m.value!==null||!l())return;const E=()=>{v(!1),m.value=null},{duration:O}=e;O===0?E():m.value=window.setTimeout(E,O)}}function p(){V()}function A(d){var E;!l()||(e.trigger==="click"&&(u(),S(),v(!1)),(E=e.onClickoutside)===null||E===void 0||E.call(e,d))}function _(){if(e.trigger==="click"&&!i()){u(),S();const d=!l();v(d)}}function w(d){!e.internalTrapFocus||d.key==="Escape"&&(u(),S(),v(!1))}function Y(d){a.value=d}function J(){var d;return(d=t.value)===null||d===void 0?void 0:d.targetRef}function D(d){b=d}return te("NPopover",{getTriggerElement:J,handleKeydown:w,handleMouseEnter:C,handleMouseLeave:V,handleClickOutside:A,handleMouseMoveOutside:p,setBodyInstance:D,positionManuallyRef:y,isMountedRef:n,zIndexRef:ne(e,"zIndex"),extraClassRef:ne(e,"internalExtraClass"),internalRenderBodyRef:ne(e,"internalRenderBody")}),tn(()=>{o.value&&i()&&v(!1)}),{binderInstRef:t,positionManually:y,mergedShowConsideringDisabledProp:s,uncontrolledShow:a,mergedShowArrow:h,getMergedShow:l,setShow:Y,handleClick:_,handleMouseEnter:C,handleMouseLeave:V,handleFocus:x,handleBlur:M,syncPosition:c}},render(){var e;const{positionManually:n,$slots:t}=this;let r,a=!1;if(!n&&(t.activator?r=Le(t,"activator"):r=Le(t,"trigger"),r)){r=Ln(r),r=r.type===Gr?T("span",[r]):r;const o={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=r.type)===null||e===void 0)&&e.__popover__)a=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[o,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[o];else{const{internalInheritedEventHandlers:s}=this,i=[o,...s],l={onBlur:f=>{i.forEach(h=>{h.onBlur(f)})},onFocus:f=>{i.forEach(h=>{h.onFocus(f)})},onClick:f=>{i.forEach(h=>{h.onClick(f)})},onMouseenter:f=>{i.forEach(h=>{h.onMouseenter(f)})},onMouseleave:f=>{i.forEach(h=>{h.onMouseleave(f)})}};Wr(r,s?"nested":n?"manual":this.trigger,l)}}return T(Gn,{ref:"binderInstRef",syncTarget:!a,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const o=this.getMergedShow();return[this.internalTrapFocus&&o?rn(T("div",{style:{position:"fixed",inset:0}}),[[Un,{enabled:o,zIndex:this.zIndex}]]):null,n?null:T(Wn,null,{default:()=>r}),T(kr,nt(this.$props,Kr,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:o})),{default:()=>{var s,i;return(i=(s=this.$slots).default)===null||i===void 0?void 0:i.call(s)},header:()=>{var s,i;return(i=(s=this.$slots).header)===null||i===void 0?void 0:i.call(s)},footer:()=>{var s,i;return(i=(s=this.$slots).footer)===null||i===void 0?void 0:i.call(s)}})]}})}});export{st as F,ro as _,Le as a,Ne as c,$t as g,nt as k,Xr as p,Hr as r};
