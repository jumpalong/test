import{u as b,X as E,p as v}from"./ProvideEventLine-BcjESPsS.js";import{E as y}from"./Ellipsis-0EM5UHUc.js";import{f as S,W as B,ao as V,k as _,o as n,B as i,E as d,n as c,w as s,y as w,z as f,q as e,A as z,F as L,C as N,m as k}from"./index-DVMYH3P6.js";import{b as M}from"./Button-Czpa3xjC.js";import{_ as I,a as F}from"./ListItem-Cp5hsImF.js";import"./utils-BXkRfzfk.js";import"./Tooltip-BuuQH49V.js";import"./Popover-C3ccDlka.js";import"./Follower-R8EgPpAd.js";import"./Scrollbar-BXVF4b7l.js";import"./use-rtl-CqBkFAUg.js";import"./use-css-vars-class-DpRsL9zm.js";import"./format-length-B-p6aW7q.js";import"./use-compitable-CysNw4x-.js";import"./is-browser-BikuuYFQ.js";const R={class:"font-bold"},X={key:0,class:"w-full"},q=S({__name:"ChannelListItem",props:{tag:{}},setup(h){const u=B(),g=b(E),m=h,{tag:t}=V(m),p=_(()=>g.getChannelMetadataByChannelId(t.value.id,{...t.value.relay?{urls:new Set([t.value.relay])}:{}})),a=_(()=>p.value.getMetadata());return(x,o)=>{var l;return n(),i("div",{class:"flex flex-col",onClick:o[0]||(o[0]=()=>e(u).push({name:"channel-message",params:{value:e(t).id}}))},[d("div",R,[c(y,null,{default:s(()=>{var r;return[w(f(((r=e(a))==null?void 0:r.name)??e(t).id.slice(0,10)),1)]}),_:1})]),(l=e(a))!=null&&l.about?(n(),i("div",X,[c(y,{class:"w-full"},{default:s(()=>[d("small",null,f(e(a).about),1)]),_:1})])):z("",!0)])}}}),Z=S({__name:"ChannelsView",setup(h){const u=B(),m=b(v.ListSynchronizerManager.Staff).listSynchronizerManager.getInitStandardListSynchronizer(v.ListEnum.PublicChats),t=_(()=>m.getList());function p(){u.push({name:"create-channel"})}return(a,x)=>{const o=M,l=F,r=I;return n(),i(L,null,[d("div",null,[c(o,{onClick:p},{default:s(()=>[w(f(a.t("create")),1)]),_:1})]),c(r,{class:"mt-4",hoverable:"",clickable:""},{default:s(()=>[(n(!0),i(L,null,N(t.value,C=>(n(),k(l,null,{default:s(()=>[(n(),k(q,{key:C.id,tag:C},null,8,["tag"]))]),_:2},1024))),256))]),_:1})],64)}}});export{Z as default};
