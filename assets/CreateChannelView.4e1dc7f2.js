import{q as u,g as c}from"./use.1e6bcf04.js";import{f as l,an as _,N as f,o as h,l as d,w as e,m as a,v as C,x as g,n as v,C as w}from"./index.1b90d9b0.js";import{T as F,a as B,r as N}from"./nostr.754d0882.js";import{_ as x}from"./ChannelMetadataEdit.vue_vue_type_script_setup_true_lang.b2df39dd.js";import{_ as y}from"./Button.426eb201.js";import{_ as M}from"./Space.233e452c.js";import"./Staff.e039c64f.js";import"./UploadInput.vue_vue_type_script_setup_true_lang.5249b8df.js";import"./UploadButton.vue_vue_type_script_setup_true_lang.446f5e11.js";import"./CloudUpload.1c386f41.js";import"./Upload.b824065e.js";import"./format-length.3612bbc8.js";import"./Icon.8b94fe05.js";import"./use-style.d41c90c3.js";import"./Warning.c5444fa8.js";import"./replaceable.3760d7d0.js";import"./create-key.7b548031.js";import"./use-css-vars-class.2322281d.js";import"./is-browser.21659b45.js";import"./RegExpUtils.5e225811.js";import"./utils.6eaabb91.js";import"./Scrollbar.d017889b.js";import"./use-rtl.e3f5641a.js";import"./cssr.ebdd28c2.js";import"./fade-in-scale-up.cssr.769ecc19.js";import"./use-locale.d88a40dd.js";import"./Loading.68c8fb32.js";import"./Follower.46005694.js";import"./Tooltip.e97f4bd5.js";import"./Popover.52f6051a.js";import"./Input.6cd78f60.js";import"./index.62f1e1b0.js";import"./Add.90e13d8d.js";import"./Icon.d35ca04d.js";import"./Upload.e47722e1.js";import"./fade-in-height-expand.cssr.b76b5d75.js";import"./get-slot.4ceacf82.js";const lt=l({__name:"CreateChannelView",setup(k){const r=u(F.FollowChannelSynchronizer),o=_(),i=c(),t=f({});async function m(){if(!t.value.name){o.warning("\u8BF7\u8F93\u5165channelName");return}const n=await B.publish({kind:40,content:JSON.stringify(t.value)},N.getWriteList(),{onOK:i});n?(r.joinChannel(n.id,{channelMetadata:t.value}),o.success("\u521B\u5EFA\u6210\u529F")):o.warning("\u6CA1\u6709\u521B\u5EFA\u6210\u529F")}return(n,E)=>{const p=y,s=M;return h(),d(s,{vertical:""},{default:e(()=>[a(x,{channelMetadata:t.value},null,8,["channelMetadata"]),a(p,{onClick:m},{default:e(()=>[C(g(v(w)("create")),1)]),_:1})]),_:1})}}});export{lt as default};
